---
title: "2 - Creating and joining sessions"
tags: ""
---

セッションの作成と参加<br><br>


ネットワークに接続すると、同じネットワーク上で複数のゲームが発生する可能性があります。<br>
これらをセッションと呼びます。<br>

これらの異なるセッションは、異なるゲームまたは同じゲームに対応できます。<br>

ゲームは、ネットワーク上で一意に識別される必要があります。<br>
幸いなことに、Game Maker がこれを行います。<br>

知っておく必要がある唯一のことは、オプション フォームでゲーム ID を変更すると、<br>
この ID が変更されるということです。<br>

このようにして、あなたのゲームの古いバージョンを持っている人が<br>
新しいバージョンを持っている人と対戦するのを避けることができます.<br>

新しいマルチプレイヤー ゲームを開始する場合は、<br>
新しいセッションを作成する必要があります。<br>

これには、次のルーチンを使用できます。<br>

・`mplay_session_create(sesname,playnumb,playername)` <br>
　現在の接続で新しいセッションを作成します。<br>
　sesname は、セッションの名前を示す文字列です。<br>
　playnumb は、このゲームで許可されるプレイヤーの最大数を示す数値です (任意の数値には 0 を使用します)。<br>
　playname はプレイヤーとしてのあなたの名前です。<br>
　成功したかどうかを返します。<br>

ゲームの 1 つのインスタンスがセッションを作成する必要があります。<br>
ゲームの他のインスタンスは、このセッションに参加する必要があります。<br>

これは少し複雑です。<br>

まず、利用可能なセッションを確認してから、<br>
参加するセッションを選択する必要があります。<br>

これには 3 つの重要なルーチンがあります。<br>

・`mplay_session_find()` <br>
　まだプレーヤーを受け入れるすべてのセッションを検索し、<br>
　見つかったセッションの数を返します。<br>
・`mplay_session_name(numb)` <br>
　セッション番号 numb の名前を返します (0 が最初のセッションです)。<br>
　このルーチンは、前のルーチンを呼び出した後にのみ呼び出すことができます。<br>
・`mplay_session_join(numb,playername)` <br>
　セッション番号 numb (0 が最初のセッション) に参加させます。 <br>
　playername はプレイヤーとしてのあなたの名前です。<br>
　成功したかどうかを返します。<br>
 
 セッション モードを変更できるルーチンがもう 1 つあります。<br>
 セッションを作成する前に呼び出す必要があります。<br>

・`mplay_session_mode(move)` <br>
　ホストの終了時にセッション ホストを別のコンピューターに移動するかどうかを設定します。<br> 
　move は true または false (デフォルト) のいずれかです。<br>

現在のセッションのステータスを確認するには、次の関数を使用できます<br>

・`mplay_session_status() `<br>
　現在のセッションのステータスを返します。<br>
　0 = セッションなし、1 = 作成されたセッション、2 = 参加したセッション。<br>

プレーヤーは、次のルーチンを使用してセッションを停止できます。<br>

・`mplay_session_end()` <br>
　このプレーヤーのセッションを終了します。<br>
